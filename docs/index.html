<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simplify the acquisition of remote sensing data • earthEngineGrabR</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Simplify the acquisition of remote sensing data">
<meta property="og:description" content="The earthEngineGrabR is an interface between R and the GEE, to extracts data from the Earth Engine Data Catalog in a user-defined target area and a user-defined aggregation process. ">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">earthEngineGrabR</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="contents col-md-9">
    <div id="earthenginegrabr" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#earthenginegrabr" class="anchor"></a>earthEngineGrabR</h1></div>
<p>The Google Earth Engine (<a href="https://earthengine.google.com/">GEE</a>) is a cloud computing platform, which offers a multi-petabyte catalog of satellite images and manipulated geospatial data products. It also provides extensive computational resources — available for scientists and developers.</p>
<p>The <code>earthEngineGrabR</code> is an interface between R and the <a href="https://earthengine.google.com/">GEE</a>, which simplifies the acquisition of remote sensing data. The R package extracts data from the <a href="https://developers.google.com/earth-engine/datasets/">Earth Engine Data Catalog</a> in a user-defined target area and a user-defined aggregation process. All extractions and manipulations of the data are entirely outsourced to EE. The user obtains an analysis-ready dataset, directly imported into R. As such, the package makes the massive public data catalog available to R-users with minimal techincal and computational effort.</p>
<hr>
<div id="usage" class="section level4">
<h4 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h4>
<p>The example shows how to grab the yearly precipitation sum from the <a href="https://developers.google.com/earth-engine/datasets/catalog/UCSB-CHG_CHIRPS_DAILY">CHIRPS Daily</a> dataset for a shapefile of spatial polygons, in this case some ecosystems in Africa. To extract data from the EE Data Catalog the <code>earthEngineGrabR</code> uses <code><a href="reference/ee_grab.html">ee_grab()</a></code>. The <code><a href="reference/ee_grab.html">ee_grab()</a></code> function grabs data from the <a href="https://developers.google.com/earth-engine/datasets/catalog/UCSB-CHG_CHIRPS_DAILY">CHIRPS Daily</a> dataset according to the target area defined by the feature geometries of the territories shapefile and an aggregation process defined by <code><a href="reference/ee_data_collection.html">ee_data_collection()</a></code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(earthEngineGrabR)

chirps_data &lt;-<span class="st"> </span><span class="kw"><a href="reference/ee_grab.html">ee_grab</a></span>(<span class="dt">data =</span> <span class="kw"><a href="reference/ee_data_collection.html">ee_data_collection</a></span>(<span class="dt">datasetID =</span> <span class="st">"UCSB-CHG/CHIRPS/DAILY"</span>,
                                                 <span class="dt">spatialReducer =</span> <span class="st">"mean"</span>,
                                                 <span class="dt">temporalReducer =</span> <span class="st">"sum"</span>, 
                                                 <span class="dt">timeStart =</span> <span class="st">"2016-01-01"</span>,
                                                 <span class="dt">timeEnd =</span> <span class="st">"2016-12-31"</span>, 
                                                 <span class="dt">scale =</span> <span class="dv">200</span>
                                                 ),
                       <span class="dt">targetArea =</span> <span class="kw">system.file</span>(<span class="st">"data/territories.shp"</span>, <span class="dt">package =</span> <span class="st">"earthEngineGrabR"</span>)
                      )

chirps_data

Simple feature collection with <span class="dv">53</span> features and <span class="dv">3</span> fields
geometry type<span class="op">:</span><span class="st">  </span>MULTIPOLYGON
dimension<span class="op">:</span><span class="st">      </span>XY
bbox<span class="op">:</span><span class="st">           </span>xmin<span class="op">:</span><span class="st"> </span><span class="fl">-13.71389</span> ymin<span class="op">:</span><span class="st"> </span><span class="fl">-25.52952</span> xmax<span class="op">:</span><span class="st"> </span><span class="fl">43.10118</span> ymax<span class="op">:</span><span class="st"> </span><span class="fl">16.63924</span>
<span class="kw">epsg</span> (SRID)<span class="op">:</span><span class="st">    </span><span class="dv">4326</span>
proj4string<span class="op">:</span><span class="st">    </span><span class="op">+</span>proj=longlat <span class="op">+</span>datum=WGS84 <span class="op">+</span>no_defs
First <span class="dv">10</span> features<span class="op">:</span>
<span class="st">   </span>id area_sqkm precipitation_s.mean_t.sum_<span class="dv">2016</span>.<span class="fl">01.01</span>_to_<span class="dv">2016</span>.<span class="fl">12.31</span>                       geometry
<span class="dv">1</span>  <span class="dv">40</span>     <span class="dv">32356</span>                                            <span class="fl">500.2795</span> <span class="kw">MULTIPOLYGON</span> (((<span class="fl">37.76223</span> <span class="dv">0</span>....
<span class="dv">2</span>  <span class="dv">29</span>     <span class="dv">42612</span>                                            <span class="fl">914.9900</span> <span class="kw">MULTIPOLYGON</span> (((<span class="fl">36.58819</span> <span class="dv">-1</span>...
<span class="dv">3</span>  <span class="dv">12</span>     <span class="dv">47000</span>                                           <span class="fl">1321.1984</span> <span class="kw">MULTIPOLYGON</span> (((<span class="fl">37.10833</span> <span class="dv">-7</span>...
<span class="dv">4</span>   <span class="dv">9</span>     <span class="dv">19624</span>                                            <span class="fl">572.1886</span> <span class="kw">MULTIPOLYGON</span> (((<span class="fl">31.87845</span> <span class="dv">-2</span>...</code></pre></div>
<p>The example calculates the yearly precipitation sum for 2016 and aggregates the spatial mean in the polygons of the target area. The calculations are performed on a <a href="https://developers.google.com/earth-engine/scale"><code>scale</code></a> of 200 meters per pixel.</p>
<p>After a short processing time of approximately 1 -2 minutes, <code><a href="reference/ee_grab.html">ee_grab()</a></code> returns the data.</p>
<hr>
</div>
<div id="requirements" class="section level2">
<h2 class="hasAnchor">
<a href="#requirements" class="anchor"></a>Requirements</h2>
<p>The earthEngineGrabR R package has a few dependencies and requirements, which need to be satisfied before the installation can run successfully:</p>
<div id="required-accounts" class="section level4">
<h4 class="hasAnchor">
<a href="#required-accounts" class="anchor"></a>Required accounts</h4>
<ul>
<li>
<a href="https://accounts.google.com/SignUp?hl=de">Google Account</a>.</li>
<li>
<a href="https://signup.earthengine.google.com/#!/">Earth Engine access</a>.</li>
</ul>
</div>
<div id="required-dependencies" class="section level4">
<h4 class="hasAnchor">
<a href="#required-dependencies" class="anchor"></a>Required dependencies</h4>
<ul>
<li>install <a href="https://www.anaconda.com/download/">Anaconda</a> (Python =&gt; 2.7)</li>
<li>install <a href="https://github.com/r-spatial/sf">sf</a>
</li>
</ul>
<p>Install the development version of the <code>earthEngineGrabR</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(devtools)
<span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"JesJehle/earthEngineGrabR"</span>)
<span class="kw">library</span>(earthEngineGrabR)</code></pre></div>
<hr>
</div>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>The package has additional Python dependencies and connects to several API’s, which each require an individual, user-specific, authentication procedure.</p>
<p>To simplify the installation and authentication process, the earthEngineGrabR includes a function <code><a href="reference/ee_grab_install.html">ee_grab_install()</a></code> that installs Python dependencies and furthermore guides the user through the different authentications.</p>
<p>Before using the earthEngineGrabR for the first time, run <code><a href="reference/ee_grab_install.html">ee_grab_install()</a></code> (<strong>you only have to do this once</strong>)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/ee_grab_install.html">ee_grab_install</a></span>()</code></pre></div>
<div id="authentication" class="section level4">
<h4 class="hasAnchor">
<a href="#authentication" class="anchor"></a>Authentication</h4>
<p>The earthEngineGrabR connects to 3 Google API’s:</p>
<ul>
<li>
<a href="https://www.gdal.org/drv_gft.html">Google Fusion Table</a> API to upload data.</li>
<li>
<a href="https://developers.google.com/earth-engine/">Google Earth Engine</a> API for data aquisition and processing.</li>
<li>
<a href="https://github.com/tidyverse/googledrive">Google Drive</a> API to download data.</li>
</ul>
<p>To authenticate the APIs, log in to your google account and allow the API to access data on googles servers. To simplify this procedure the <code><a href="reference/ee_grab_install.html">ee_grab_install()</a></code> function successively opens a browser window to log into the Google account. If the Google account is verified and the permission is granted, you will be directed to an authentification token. Copy this token and paste it into the R console. This process will be repeated for each API. If the function runs successfully, all needed credentials are stored for further sessions and there will be no need for any further authentification.</p>
<p>To test the installation run:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">srtm_data &lt;-<span class="st"> </span><span class="kw"><a href="reference/ee_grab.html">ee_grab</a></span>(<span class="dt">data =</span> <span class="kw"><a href="reference/ee_data_image.html">ee_data_image</a></span>(<span class="dt">datasetID =</span> <span class="st">"CGIAR/SRTM90_V4"</span>, 
                                          <span class="dt">spatialReducer =</span> <span class="st">"mean"</span>, 
                                          <span class="dt">scale =</span> <span class="dv">100</span>, 
                                          <span class="dt">bandSelection =</span> <span class="st">"elevation"</span>
                                          ),
                    <span class="dt">targetArea =</span> <span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/system.file">system.file</a></span>(<span class="st">"data/territories.shp"</span>, <span class="dt">package =</span> <span class="st">"earthEngineGrabR"</span>)
                    )</code></pre></div>
<hr>
</div>
<div id="the-earthenginegrabr-workflow" class="section level3">
<h3 class="hasAnchor">
<a href="#the-earthenginegrabr-workflow" class="anchor"></a>The earthEngineGrabR Workflow</h3>
<ul>
<li><p><strong>Search</strong> for dataset in Earth Engine <a href="https://developers.google.com/earth-engine/datasets/">Data Catalog</a> .</p></li>
<li><p><strong>Grab</strong> data according to a user defines data reuquest.</p></li>
</ul>
<div id="search-for-data" class="section level4">
<h4 class="hasAnchor">
<a href="#search-for-data" class="anchor"></a>Search for data</h4>
<p>Use Earth Engine’s <a href="https://developers.google.com/earth-engine/datasets/">Data Catalog</a> to browse and find datasets you want to grab using the earthEngineGrabR. Once you have found a dataset, use the snippet section to obtain the <strong>dataset ID</strong> and whether the dataset is an <strong>image</strong> or a <strong>collection of images</strong>. The snippet section consists of one line of code (don’t open the link) and shows how Earth Engine loads the dataset. If it is an image, the <code>ee.Image(dataset-ID)</code> constructor is used. if it is a collection the <code>ee.ImageCollection(dataset-id)</code> constructor is used instead.</p>
</div>
<div id="grab-data" class="section level4">
<h4 class="hasAnchor">
<a href="#grab-data" class="anchor"></a>Grab data</h4>
<p><code><a href="reference/ee_grab.html">ee_grab()</a></code> requests and imports data from Earth Engine to R. <code><a href="reference/ee_grab.html">ee_grab()</a></code> takes two arguments, <code>data</code> and <code>targetArea</code>. <code>data</code> takes a single or a list of <code><a href="reference/ee_data_image.html">ee_data_image()</a></code> and <code><a href="reference/ee_data_collection.html">ee_data_collection()</a></code> functions, which define the requested data to <code><a href="reference/ee_grab.html">ee_grab()</a></code>. If the requested data is an image use <code><a href="reference/ee_data_image.html">ee_data_image()</a></code>, if it’s a collection use <code><a href="reference/ee_data_collection.html">ee_data_collection()</a></code>. <code>targetArea</code> takes a path to a local geo-file, which defines the spatial target in which the data sould be aggregated.</p>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Report a bug at <br><a href="NA">NA</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>What license is it under?</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Janusch Jehle <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Janusch Jehle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
